<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href='style.css' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
    <title> Search Listings </title>

</head>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase.js"></script>
    <script src='setup_firebase_eden.js'></script>
    <script src='index.js'></script>
    <body>
        <a href = 'home.html'>
        <img src = "./images/eden_logo.png" width = 100 />
        </a>



        <div class = "all" style = "font-family: 'Abel', sans-serif;">

        <!-- CHANGE *CATEGORY TITLE* ACCORDING TO USER'S CHOICE FROM PREVIOUS PAGE -->
        <h1 class = "create" style = "color: white;"> Posts </h1>
        

        <!-- EVERY LIST SHOULD BE USING THE "CREATE" INFO FOR DISPLAY -->
        <div class = "list_one">
            <p id = "list_one_title"> <b> Looking for Volunteers to Plant Lily </b></p>
            <br>
            <p id = "list_one_description"> We are "Citily" community and we are striving to make the air quality better... </p>
            <br>
            <p id = "list_one_location" style = "font-size: 80%; color: silver;"> 562 Pearl Court Sainte-Marie, QC G6E M0J </p>
        </div>
        <br>

        <!-- *USE FUNCTION TO CREATE ANOTHER DIFFERENT LIST IN THE SAME FORMAT* This is just to show... for now -->
        <div class = "list_two">
                <p id = "list_two_title"> <b> Title </b></p>
                <br>
                <p id = "list_two_description"> Description... </p>
                <br>
                <p id = "list_two_location" style = "font-size: 80%; color: silver;"> Location Address </p>
            </div>
        <script>
            function getDataFromFB() {
                firebase.auth().onAuthStateChanged(function(user) {
                let userID = localStorage.getItem('userid')
                let dbRef = firebase.database().ref("users/" + userID)
                dbRef.once('value',function(snap) {
                    keys = snap.val();
            // for (key in keys) {
                linebreak1 = document.createElement('br');
                linebreak2 = document.createElement('br');
                linebreak3 = document.createElement('br');
                var div = document.createElement('div');
                div.classList.add('list_one')
                div.classList.add('all')
                div.classList.add('class')
                var paraTitle = document.createElement('b');
                var paraDescription = document.createElement('p');
                var paraLocation = document.createElement('p');
                var paraDate = document.createElement('p');
                paraTitle.style="font-family: Roboto, sans-serif; color: green;"
                paraDescription.style="font-size: 80%;"
                paraLocation.style="font-size: 80%; color: silver;"
                paraDate.style="font-size: 60%; color: silver;"
                paraTitle.innerHTML = keys['title']
                paraDescription.innerHTML = keys['description']
                paraLocation.innerHTML = keys['location']
                paraDate.innerHTML = keys['date']
                
                document.body.appendChild(div);
                div.appendChild(paraTitle);
                div.appendChild(linebreak1)
                div.appendChild(paraDescription);
                div.appendChild(linebreak2)
                div.appendChild(paraLocation);
                div.appendChild(linebreak3)
                div.appendChild(paraDate);

            // }
            })})}
            getDataFromFB()
        </script>
        
    </body>
</html>
