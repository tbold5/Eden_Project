<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href='style.css' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
    <title> Search Listings </title>
</head>
    
    <!-- Javascript & Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase.js"></script>
    <script src='setup_firebase_eden.js'></script>
    <script src='index.js'></script>
    
<body>

        <!-- Home Page -->
        <a href = 'home.html'>
        <img src = "./images/eden_logo.png" width = 100 />
        </a>

        <!-- Create Post -->
        <div class = "all" id='div' style = "font-family: 'Abel', sans-serif;">
        <h1 class = "create" style = "color: white;"> Posts </h1>
        </div>

        <script>
            // Create Post Using Firebase
            function getDataFromFB() {
                firebase.auth().onAuthStateChanged(function(user) {
                let userID = localStorage.getItem('userid')
                let dbRef = firebase.database().ref("users/" + userID)
                dbRef.once('value',function(snap) {
                    keys = snap.val();
                    
                // Linebreaks
                linebreak1 = document.createElement('br');
                linebreak2 = document.createElement('br');
                linebreak3 = document.createElement('br');
                linebreak4 = document.createElement('br');
                // Create elements
                var div = document.createElement('div');
                div.classList.add('list_one')
                var paraTitle = document.createElement('b');
                var paraDescription = document.createElement('p');
                var paraLocation = document.createElement('p');
                var paraDate = document.createElement('p');
                // Inner Styling of Elements
                paraTitle.style="font-family: 'Abel', sans_serif; color: green; text-decoration: underline;"
                paraDescription.style="font-size: 80%;"
                paraLocation.style="font-size: 80%; color: silver;"
                paraDate.style="font-size: 60%; color: silver;"
                paraTitle.innerHTML = keys['title']
                paraDescription.innerHTML = keys['description']
                paraLocation.innerHTML = keys['location']
                paraDate.innerHTML = keys['date']
                // Append elements to html
                document.getElementById('div').appendChild(div);
                div.appendChild(paraTitle);
                div.appendChild(linebreak1)
                div.appendChild(paraDescription);
                div.appendChild(linebreak2)
                div.appendChild(paraLocation);
                div.appendChild(linebreak3)
                div.appendChild(paraDate);
                div.appendChild(linebreak4)
            })})}
            getDataFromFB()
        </script> 

</body>

</html>
